$(document).ready(function(){function e(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function n(e){var n=location.href,t=/[^&]*$/;return n.match(t)?n=n.replace(n.match(t)[0],e):n+=(n.split("?")[1]?"&":"?")+e,n}function t(e){null!==e?($(".videos").find("figure").removeClass("selected"),e.find("figure").addClass("selected")):$(".videos").find("figure").removeClass("selected")}function o(e){this.params=e,this.paramObj={},this.videoUrlParams=function(){var e=this.params,n=/((?=\?)[^\&]+)(?:\b\w*-video\w*\b)/g,t=/(?:[\b\w*video&])[^\&]*$/g,o="",i="";if(e.match(n)&&(o=e.match(n)[0].split("?")[1]),!e.match(t))return!1;i=e.match(t)[0].split("&")[1],this.paramObj.category=o,this.paramObj.video=i,this.paramObj.video.length&&this.parseParams()},this.parseParams=function(){var e=this.paramObj.video.toLowerCase();e=e.split("-");for(var n="",o=0;o<e.length;o++)n+=e[o]+" ";if(n=n.trim(),$("h4[name*='"+n+"']").length>0){console.log("exists"),console.log($("h4[name*='"+n+"']"));var i=$("h4[name*='"+n+"']").offsetParent();t(i),$("html, body").animate({scrollTop:i.offset().top-120},1e3),y[0].innerHTML="<p>Search Term: <span>"+n+"</span></p>"}else y[0].innerHTML='<p>Search Term: <span class="danger">'+n+"</span>, is not returning any results. Try a simpler keyword.</p>",console.log(y[0])},this.params&&this.videoUrlParams()}function i(){for(var e="",n=0;n<T.length;n++)e+="<span>"+T[n]+"</span>";w.append(e),q=!1}function a(){var e=[],n=[];return $(".videos").children().each(function(){n.push($(this))}),n.forEach(function(n){var t=n.attr("data-category"),o=t.split(",");if(o.length>1)for(var i=0;i<o.length;i++)-1===e.indexOf(o[i])&&e.push(o[i]);else-1===e.indexOf(t)&&e.push(t)}),e}function s(e){console.log(e),b.addClass("show"),e.addClass("show")}function l(e){console.log("people stop!!!!"),"quote"===e?c.toggleClass("show-cart"):r.toggleClass("show-cart")}jQuery(document).on("click",".mega-dropdown",function(e){e.stopPropagation()});var c=$("#quote-module"),r=$("#shopping-cart-module"),d=$(".header-icon-group #account-icon"),h=$("#account-module"),p=$(".close-module"),u=$(".glyphicon-pencil"),g=$("#contact-module"),f=$("#directory-module"),v=$("img.logo"),m=$(".open-contact"),C=$(".top-footer").find("button"),b=$(".dark-overlay"),k=$(".filter"),w=$(".dropdown-panel"),y=$(".search-message"),q=!0;$("#search-video").on("submit",function(e){e.preventDefault(),console.log("searchParam:",e.currentTarget.children[0].children[0].value);var n=e.currentTarget.children[0].children[0].value;n=n.replace(" ","-"),history.pushState(null,null,"?video&"+n),o()}),function(){o(window.location.search)}(),k.on("click",function(){q&&i(),a(),$(".dropdown-panel").toggleClass("open")}),$(".dropdown-panel").on("click","span",function(e){console.log(e.currentTarget.textContent);for(var n=e.currentTarget.textContent,t=$("li.video"),o=0;o<t.length;o++)$(t[o]).data("category").includes(n)?$(t[o]).hasClass("hidden")&&$(t[o]).removeClass("hidden"):$(t[o]).addClass("hidden")});var T=a();console.log(T),$(".filter-tab").on("click",function(){$(".filter-sidebar").toggleClass("open-filter")}),$(".close-filter").on("click",function(){$(".filter-sidebar").removeClass("open-filter")}),v.on("click",function(e){e.preventDefault(),s(f)}),d.on("click",function(){s(h)}),p.on("click",function(){$(this).parent().toggleClass("show"),b.toggleClass("show")}),$("#myCarousel1")&&$("#myCarousel1").carousel({interval:4e3}),$("#myCarousel2")&&$("#myCarousel2").carousel({interval:4e3}),$(".carousel")&&$(".carousel").carousel({interval:4e3});var x=!1;$("#myCarousel").on("click",function(){x=!0,$("#main-nav .nav li").removeClass("active"),$(this).parent().addClass("active")}).on("slid.bs.carousel",function(){if(!x){var e=$("#main-nav .nav").children().length-1,n=$("#main-nav .nav li.active");n.removeClass("active").next().addClass("active");e===parseInt(n.data("slide-to"))&&$("#main-nav .nav li").first().addClass("active")}x=!1});var P=!1,D=$(".search-icon"),O=$(".big-search-field"),j=$(".close-big-search");D.on("click",function(){O.hasClass("show")||(O.addClass("show"),O.find("input").focus(),P=!0)}),j.on("click",function(){O.hasClass("show")&&(O.removeClass("show"),P=!1)}),m.on("click",function(){s(g)}),C.on("click",function(){s(g)}),$(".search-page")&&$(".filter").find("h3").on("click",function(){var e=$(this)[0].parentElement;$(e).toggleClass("show-filter")}),$(".login").on("click",".register-btn",function(){$(this).parent().parent().parent().parent().toggleClass("hidden"),$(this).parent().parent().parent().parent().parent().find(".register").toggleClass("hidden")}),$(".register").on("click",".cancel",function(){$(this).parent().parent().parent().parent().toggleClass("hidden"),$(this).parent().parent().parent().parent().parent().find(".login").toggleClass("hidden")}),u.on("click",function(){$(this).parent().find(".glyphicon-remove").toggleClass("hidden"),$(this).parent().find(".glyphicon-pencil").toggleClass("hidden"),$(this).parent().find("address").toggleClass("hidden"),$(this).parent().find(".edit").toggleClass("hidden")}),$(".tab-content").on("click",".glyphicon-remove",function(){$(this).parent().find(".glyphicon-remove").toggleClass("hidden"),$(this).parent().find(".glyphicon-pencil").toggleClass("hidden"),$(this).parent().find("address").toggleClass("hidden"),$(this).parent().find(".edit").toggleClass("hidden")}),$(".account-page").on("click",".cancel-changes",function(e){e.preventDefault(),$(this).closest(".tab-content").find(".glyphicon-pencil").removeClass("hidden"),$(this).closest(".tab-content").find(".glyphicon-remove").addClass("hidden"),$(this).closest(".tab-content").find("address").toggleClass("hidden"),$(this).closest(".tab-content").find(".edit").toggleClass("hidden")}),$(".account-page").on("click",".submit-changes",function(e){e.preventDefault(),$(this).closest(".tab-content").find(".glyphicon-pencil").removeClass("hidden"),$(this).closest(".tab-content").find(".glyphicon-remove").addClass("hidden"),$(this).closest(".tab-content").find("address").toggleClass("hidden"),$(this).closest(".tab-content").find(".edit").toggleClass("hidden")}),$(".video-page")&&$(".carousel").carousel({interval:!1});var E=$(".quick-info"),L=E.find(".glyphicon-remove");$(".qiBtn").on("mouseenter",function(e){e.stopImmediatePropagation(),e.preventDefault();var n=$(this).parent().parent().children()[3];$(n).addClass("show")}),L.on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show")}),$(".category-page .product").on("mouseleave",function(e){e.stopImmediatePropagation(),$(".quick-info.show",this).length>0&&(console.log("working yo!"),$(".quick-info").removeClass("show"))}),$(".quick-info").on("click",function(e){e.preventDefault()});var S=$("#main-nav");$(document).scroll(function(){$(this).scrollTop()>$(".header-wrapper").height()-S.height()?S.css({position:"fixed",top:"0","z-index":"22"}):S.css({position:"relative","z-index":"18"})}),h.find(".account-buttons").on("click","button",function(){var e=$(this).attr("data-id");$(".tab").addClass("hidden"),h.find("."+e).toggleClass("hidden"),$(".account-buttons").find("button").removeClass("active"),$(this).addClass("active")}),h.find(".login-btn").on("click",function(){h.find(".login").toggleClass("hidden"),h.find(".shipping-address").toggleClass("hidden")}),h.find(".logout").on("click",function(){var e=h.find(".tab");console.log(e);for(var n=0;n<e.length;n++)$(e[n]).addClass("hidden");h.find(".login-form").removeClass("hidden"),h.find(".login").removeClass("hidden")}),$("#estimate-shipping").on("click",function(){$(this).toggleClass("open"),$(this).hasClass("open")&&setTimeout(function(){$('input[name="country"]').focus()},500),$(".estimate-shipping").toggleClass("show-shipping")}),$(".dropdown-module").on("click",function(){$(this).hasClass("cart")&&(c.hasClass("show-cart")&&l("quote"),l("cart")),$(this).hasClass("quote")&&(r.hasClass("show-cart")&&l("cart"),l("quote"))}),$(".close-cart").on("click",function(){console.log($(this)[0].parentElement.id),l("quote-module"===$(this)[0].parentElement.id?"quote":"cart")}),$(document.body).on("click",".add-to-cart",function(){l("cart")}),$(".continue-shopping").on("click",function(){l("cart")})});